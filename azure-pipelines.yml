trigger:
- main

pool:
  vmImage: 'windows-latest'

steps:
- script: |
    echo //main.cpp > main.cpp
    echo #include <iostream> >> main.cpp
    echo int main() { >> main.cpp
    echo std::cout << "Hello from Azure DevOps!" << std::endl; >> main.cpp
    echo return 0; >> main.cpp
    echo } >> main.cpp
  displayName: 'Create main.cpp'

- script: |
    cl /EHsc main.cpp /Fe:main.exe
  displayName: 'Build main.cpp'

- script: |
    main.exe
  displayName: 'Run main.exe'
